<!DOCTYPE html>

<html lang="en">
<head>
<title>"Solving" Daily Fantasy Football</title>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="/assets/built/screen.css?v=8d8ebc2168" rel="stylesheet" type="text/css"/>
<link href="/favicon.png" rel="icon" type="image/png"/>
<link href="https://aptmac.github.io/solving-daily-fantasy-football/" rel="canonical"/>
<meta content="no-referrer-when-downgrade" name="referrer"/>
<link href="https://aptmac.github.io/solving-daily-fantasy-football/amp/" rel="amphtml"/>
<meta content="Stuff, and things." property="og:site_name"/>
<meta content="article" property="og:type"/>
<meta content='"Solving" Daily Fantasy Football' property="og:title"/>
<meta content="45 more days until the NFL 2021 season kicks off. More importantly, that's 45 more days until fantasy football starts. I personally find sports more enjoyable to watch when there's &quot;something&quot; riding on the game. It could be the enjoyment of watching my favourite teams, or the cultural pride associated" property="og:description"/>
<meta content="https://aptmac.github.io/solving-daily-fantasy-football/" property="og:url"/>
<meta content="https://aptmac.github.io/content/images/2021/07/dfs-helper.png" property="og:image"/>
<meta content="2021-07-27T17:00:00.000Z" property="article:published_time"/>
<meta content="2021-09-14T17:36:50.000Z" property="article:modified_time"/>
<meta content="Programming" property="article:tag"/>
<meta content="Fantasy Football" property="article:tag"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content='"Solving" Daily Fantasy Football' name="twitter:title"/>
<meta content="45 more days until the NFL 2021 season kicks off. More importantly, that's 45 more days until fantasy football starts. I personally find sports more enjoyable to watch when there's &quot;something&quot; riding on the game. It could be the enjoyment of watching my favourite teams, or the cultural pride associated" name="twitter:description"/>
<meta content="https://aptmac.github.io/solving-daily-fantasy-football/" name="twitter:url"/>
<meta content="https://aptmac.github.io/content/images/2021/07/dfs-helper.png" name="twitter:image"/>
<meta content="Written by" name="twitter:label1"/>
<meta content="aptmac" name="twitter:data1"/>
<meta content="Filed under" name="twitter:label2"/>
<meta content="Programming, Fantasy Football" name="twitter:data2"/>
<meta content="@aptmac_" name="twitter:site"/>
<meta content="788" property="og:image:width"/>
<meta content="380" property="og:image:height"/>
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Stuff, and things.",
        "url": "https://aptmac.github.io/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://aptmac.github.io/favicon.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "aptmac",
        "image": {
            "@type": "ImageObject",
            "url": "https://aptmac.github.io/content/images/2021/07/a.jpg",
            "width": 400,
            "height": 400
        },
        "url": "https://aptmac.github.io/author/aptmac/",
        "sameAs": []
    },
    "headline": "&quot;Solving&quot; Daily Fantasy Football",
    "url": "https://aptmac.github.io/solving-daily-fantasy-football/",
    "datePublished": "2021-07-27T17:00:00.000Z",
    "dateModified": "2021-09-14T17:36:50.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://aptmac.github.io/content/images/2021/07/dfs-helper.png",
        "width": 788,
        "height": 380
    },
    "keywords": "Programming, Fantasy Football",
    "description": "45 more days until the NFL 2021 season kicks off.\n\nMore importantly, that&#x27;s 45 more days until fantasy football starts.\n\nI personally find sports more enjoyable to watch when there&#x27;s &quot;something&quot; riding\non the game. It could be the enjoyment of watching my favourite teams, or the\ncultural pride associated with watching international sports. But sometimes it&#x27;s\njust fun to play fantasy sports and put a bit of money on the line.\n\nI don&#x27;t specifically recall when I gave daily fantasy football a try, ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://aptmac.github.io/"
    }
}
    </script>
<style>:root {--ghost-accent-color: #000000;}</style>
<meta content="Ghost 4.10" name="generator"/>
<link href="https://aptmac.github.io/rss/" rel="alternate" title="Stuff, and things." type="application/rss+xml"/>
</head>
<body class="post-template tag-programming tag-fantasy-football">
<div class="viewport">
<header class="gh-head" id="gh-head">
<nav class="gh-head-inner inner gh-container">
<div class="gh-head-brand">
<a class="gh-head-logo" href="https://aptmac.github.io">
                        Stuff, and things.
                </a>
<a class="gh-burger" role="button">
<div class="gh-burger-box">
<div class="gh-burger-inner"></div>
</div>
</a>
</div>
<div class="gh-head-menu">
<ul class="nav">
<li class="nav-home"><a href="https://aptmac.github.io/">Home</a></li>
<li class="nav-programming"><a href="https://aptmac.github.io/tag/programming/">Programming</a></li>
<li class="nav-fantasy-football"><a href="https://aptmac.github.io/tag/fantasy-football/">Fantasy Football</a></li>
<li class="nav-about"><a href="https://aptmac.github.io/about/">About</a></li>
</ul>
</div>
<div class="gh-head-actions">
<div class="gh-social">
<a class="gh-social-twitter" href="https://twitter.com/aptmac_" rel="noopener" target="_blank" title="Twitter"><svg viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
</div>
<a class="gh-head-button" href="https://github.com/aptmac" target="_blank" title="GitHub">GitHub</a>
</div>
</nav>
</header>
<main>
<article class="article post tag-programming tag-fantasy-football">
<header class="article-header gh-canvas">
<section class="article-tag">
<a href="https://aptmac.github.io/tag/programming/">Programming</a>
</section>
<h1 class="article-title">"Solving" Daily Fantasy Football</h1>
<div class="article-byline">
<section class="article-byline-content">
<ul class="author-list">
<li class="author-list-item">
<a class="author-avatar" href="/author/aptmac/">
<img alt="aptmac" class="author-profile-image" src="/content/images/size/w100/2021/07/a.jpg"/>
</a>
</li>
</ul>
<div class="article-byline-meta">
<h4 class="author-name"><a href="/author/aptmac/">aptmac</a></h4>
<div class="byline-meta-content">
<time class="byline-meta-date" datetime="2021-07-27">Jul 27, 2021</time>
<span class="byline-reading-time"><span class="bull">•</span> 6 min read</span>
</div>
</div>
</section>
</div>
<figure class="article-image">
<img alt='"Solving" Daily Fantasy Football' sizes="(min-width: 1400px) 1400px, 92vw" src="/content/images/size/w2000/2021/07/dfs-helper.png" srcset="/content/images/size/w300/2021/07/dfs-helper.png 300w,
                        /content/images/size/w600/2021/07/dfs-helper.png 600w,
                        /content/images/size/w1000/2021/07/dfs-helper.png 1000w,
                        /content/images/size/w2000/2021/07/dfs-helper.png 2000w"/>
<figcaption>95th Percentile on Yahoo Daily Fantasy Football using dfs-helper</figcaption>
</figure>
</header>
<section class="gh-content gh-canvas">
<p>45 more days until the NFL 2021 season kicks off.</p><p>More importantly, that's 45 more days until fantasy football starts.</p><p>I personally find sports more enjoyable to watch when there's "something" riding on the game. It could be the enjoyment of watching my favourite teams, or the cultural pride associated with watching international sports. But sometimes it's just fun to play fantasy sports and put a bit of money on the line.</p><p>I don't specifically recall when I gave daily fantasy football a try, but I remember it coincided with a week where the Packers were not playing on the Sunday, and so I filled out a daily fantasy sports (DFS) roster in order to give me a reason to watch football all day on the Sunday (that's a good enough reason .. right?).</p><p>For those unfamiliar with DFS, you have to assemble a roster with the goal of scoring the highest amount of points on a given day, and these points are granted based on your player's IRL performance during their games. The catch is that each player is given a salary value, and you cannot exceed some maximum salary constraint set by the platform. For example, Yahoo Fantasy Football gives you $200 to select 9 players of the following positions: 1 QB, 2 WR, 2RB, 1 TE, 1 Flex (WR, RB, or TE), and 1 defense. Salary-wise, you're looking at around $30-$40 for your top-tier players, all the way down to ~$10 for your run-of-the-mill guys. Sounds easy enough, you just need to pick the good players, right?</p><p>When you take a deeper look at how DFS works, it can really be broken down into two parts: (1) predicting individual player points, and (2) finding the optimal line-up to maximize the points with respect to the salary constraint.</p><p>1. Predicting points</p><p>The meat and potatoes of this operation; it doesn't matter how good your solver is if your projections aren't accurate. There is a lot to consider when figuring out which players to choose for your weekly lineup. Are they on a winning team? How did they perform last week? What is the weather going to be like on game day? Are they named Patrick Mahomes? These are the questions that need to be answered and then assigned a numeric value that represents how much more effective that player will be compared to the others. For example, would you rather have Aaron Rodgers as your QB if he's against Aaron Donald and the Rams defense, or should you save your salary and take a budget friendly QB like Justin Herbert with a more expensive reciever and/or running back instead? For my own use case, I figured I would defer to the people who do these predictions as their full-time jobs, and use the projected scores provided by FantasyPros and Yahoo. I had intended on comparing the two proivders and using them as inspiration for developing my own machine learning model, but as I'll touch upon later, the FantasyPros data worked extremely well out of the box. Once we have an idea of how the players might perform on game day, it's time to figure out how to assemble the best possible roster.</p><p>2. Maximizing points</p><p>This sounds like a job for linear programming. As described by Encyclopaedia Britannica, linear programming is a "mathematical modeling technique in which a linear function is maximized or minimized when subjected to various constraints" [0]. In our case, we have various constraints about our roster size, position requirements, and salary, and we're looking to maximize the amount of points for our roster. While researching libraries and techniques I could use within Python for linear programming, I stumbled across a blog post by Kyle Stahl entitled "Draft Kings Player Optimization" [1]. In his post he outlines, explains, and shows the code that he used for solving daily fantasy football, in his case, he used Draft Kings data as an input and PuLP for linear programming. There's no sense in re-inventing the wheel, and his code was well explained and written; it is now the core code that I ended up using for my own DFS tool.</p><p>Prior to the 2020 NFL season, I pieced together a couple of Python scripts (including the linear programming solver mentioned above) to automate the process of selecting a daily fantasy football roster. Originally I was planning on running a series of trials to see who had the more accurate projections between Yahoo and Fantasy Pros (spoiler alert: Yahoo's projections were hot garbage). The scripts I used can be found on my GitHub at <a href="https://github.com/aptmac/dfs-helper">https://github.com/aptmac/dfs-helper</a> [2], and currently requires two commands in-order to work.</p><!--kg-card-begin: markdown--><pre><code>python fetch_data.py
</code></pre>
<!--kg-card-end: markdown--><p>Simple enough, this script just scrapes the projected scores from the Fantasy Pros website and Yahoo DFS API, and matches them up with the Yahoo player salary constraints. The output here is a csv and json file comprised of the players and their associated salary cost.</p><!--kg-card-begin: markdown--><pre><code>python dfs-solver.py csv/fantasypros.csv
</code></pre>
<!--kg-card-end: markdown--><p>Next, we need to feed the csv file into our solver, in the case shown above it's the Fantasy Pros csv data. The solver works it's magic and we're presented output that looks like:</p><!--kg-card-begin: markdown--><pre><code>                     name position team  salary  points
4         Patrick Mahomes       QB   KC    36.0    XX.X
32           Keenan Allen       WR  LAC    26.0    XX.X
34           James Conner       RB  PIT    26.0    XX.X
46          Darren Waller       TE   LV    23.0    XX.X
53         Terry McLaurin       WR  WAS    22.0    XX.X
56         Todd Gurley II       RB  ATL    21.0    XX.X
110        Robby Anderson       WR  CAR    19.0    XX.X
140      David Montgomery       RB  CHI    16.0    XX.X
219  Jacksonville Jaguars      DEF  JAX    11.0     X.X
Total used amount of salary cap: 200.0
Projected points: XXX.X
</code></pre>
<!--kg-card-end: markdown--><p>The last step now is to plug this lineup into the Yahoo Fantasy Football app (or website), and get ready to watch some football.</p><p>Now that we have set our generated roster, how effective is this tool overall? The answer here depends on how you play DFS. From my experience with Yahoo daily fantasy, there are two main contest types: 1v1 matchmaking and multi-player contests. The first option is my go-to and where I was arguably most successful. As the name suggests, Yahoo matches you up against one other player, and your two rosters compete against each other to see who wins. dfs-helper managed to get a season-long win percentage of around ~70% (which is fantastic, considering this IS gambling after all), which gave my account a diamond ranking for the season, indicating that I was at the 95th percentile. There is another method of contest, where you compete against many other players, who often have the ability to submit multiple entries and rosters. This is where the big money is, and where the heavy hitters come to play. Often times I would see individuals submit 5+ entries, each with slight modifications to their roster in hopes of striking that golden lineup. I played a handful of these, and while I did manage to place high enough for payout a few times, I didn't enjoy playing as much as when I was matched against one other person. Having said that, there was a free entry contest run by BetMGM which had 142,492 entrants, and my lineup placed 972th, which actually one me a whole $1, which was really cool.</p><p>So, what's next for dfs-helper? I have a couple of shorter term features I'd like to implement, and some ideas that I'd like to experiment with in future seasons. For shorter term goals, I'm hoping to get the solver to present multiple roster combinations instead of just the "optimal" solution. As for implementing this, I'm thinking that the easiest way would be to iterate as many times as rosters I want to generate, and after each "optimal" roster is generated I would add it as a constraint and re-solve. I have yet to give this a try, but it's something I'm thinking about. Next, I would like to create a simple front-end for interacting with dfs-helper. Last year I started working on an app called "FFDojo", which will be a compilation of tools that I use throughout the fantasy football season. This includes features such as my drafting tool, trade analyzer, Reddit news scraper, and tier lists. I haven't really touched the FFDojo code in a while, but with fantasy football season quickly approaching I think that will change soon. As for long term features, I'd really like to start working on my own data model and machine learning pipeline for creating my own projections. I'm not sure how this will work yet, and if I'll be using something like nflscrapR to analyze raw player data, or if I'll take the Boris Chen approach and instead analyze the accuracy of sports writers and their projections (or possibly some combination of the two). Regardless, there are plenty of ways to enhance dfs-helper, and I'm looking forward to experimenting in the future (time permitting of course).</p><p>Lastly, I'd just like to mention that playing fantasy sports for money is gambling, and that winning is never guaranteed. I work on these fantasy tools because I think they're fun, not because I think I can make money off of them. </p><p>[0] <a href="https://www.britannica.com/science/linear-programming-mathematics">https://www.britannica.com/science/linear-programming-mathematics</a></p><p>[1] <a href="https://kyle-stahl-mn.com/draftkings">https://kyle-stahl-mn.com/draftkings</a></p><p>[2] <a href="https://github.com/aptmac/dfs-helper">https://github.com/aptmac/dfs-helper</a></p>
</section>
</article>
<aside class="read-more-wrap">
<div class="read-more inner">
<article class="post-card post">
<a class="post-card-image-link" href="/how-to-install-jdk-mission-control-in-fedora-via-copr/">
<img alt="How to install the JDK Mission Control Agent in Fedora via COPR" class="post-card-image" loading="lazy" sizes="(max-width: 1000px) 400px, 800px" src="/content/images/size/w600/2021/12/copr-jmc-agent.png" srcset="/content/images/size/w300/2021/12/copr-jmc-agent.png 300w,
                    /content/images/size/w600/2021/12/copr-jmc-agent.png 600w,
                    /content/images/size/w1000/2021/12/copr-jmc-agent.png 1000w,
                    /content/images/size/w2000/2021/12/copr-jmc-agent.png 2000w"/>
</a>
<div class="post-card-content">
<a class="post-card-content-link" href="/how-to-install-jdk-mission-control-in-fedora-via-copr/">
<header class="post-card-header">
<h2 class="post-card-title">How to install the JDK Mission Control Agent in Fedora via COPR</h2>
</header>
<section class="post-card-excerpt">
<p>In a previous post (https://aptmac.github.io/installing-jmc-in-fedora/), I wrote about how to install JMC on Fedora via copr. I'm back with an update; the JMC Agent (v.1.0.1) is now available through copr as well! One of the big features included in the JMC 8.1.</p>
</section>
</a>
<footer class="post-card-meta">
<ul class="author-list">
<li class="author-list-item">
<a class="static-avatar" href="/author/aptmac/">
<img alt="aptmac" class="author-profile-image" src="/content/images/size/w100/2021/07/a.jpg"/>
</a>
</li>
</ul>
<div class="post-card-byline-content">
<span><a href="/author/aptmac/">aptmac</a></span>
<span class="post-card-byline-date"><time datetime="2021-12-06">Dec 6, 2021</time> <span class="bull">•</span> 1 min read</span>
</div>
</footer>
</div>
</article>
<article class="post-card post">
<a class="post-card-image-link" href="/installing-jmc-in-fedora/">
<img alt="How to install JDK Mission Control in Fedora via COPR" class="post-card-image" loading="lazy" sizes="(max-width: 1000px) 400px, 800px" src="/content/images/size/w600/2021/07/copr-jmc.png" srcset="/content/images/size/w300/2021/07/copr-jmc.png 300w,
                    /content/images/size/w600/2021/07/copr-jmc.png 600w,
                    /content/images/size/w1000/2021/07/copr-jmc.png 1000w,
                    /content/images/size/w2000/2021/07/copr-jmc.png 2000w"/>
</a>
<div class="post-card-content">
<a class="post-card-content-link" href="/installing-jmc-in-fedora/">
<header class="post-card-header">
<h2 class="post-card-title">How to install JDK Mission Control in Fedora via COPR</h2>
</header>
<section class="post-card-excerpt">
<p>JDK Mission Control (JMC) is an open source tool suite for the Java Virtual Machine (JVM). It has an advanced set of tools for interacting with JDK Flight Recorder (JFR), and can be used to interpret and visualize data from flight recording files. Up until recently, JMC had been available</p>
</section>
</a>
<footer class="post-card-meta">
<ul class="author-list">
<li class="author-list-item">
<a class="static-avatar" href="/author/aptmac/">
<img alt="aptmac" class="author-profile-image" src="/content/images/size/w100/2021/07/a.jpg"/>
</a>
</li>
</ul>
<div class="post-card-byline-content">
<span><a href="/author/aptmac/">aptmac</a></span>
<span class="post-card-byline-date"><time datetime="2021-09-14">Sep 14, 2021</time> <span class="bull">•</span> 2 min read</span>
</div>
</footer>
</div>
</article>
<article class="post-card post">
<a class="post-card-image-link" href="/hello-world/">
<img alt="Hello World!" class="post-card-image" loading="lazy" sizes="(max-width: 1000px) 400px, 800px" src="/content/images/size/w600/2021/07/a.png" srcset="/content/images/size/w300/2021/07/a.png 300w,
                    /content/images/size/w600/2021/07/a.png 600w,
                    /content/images/size/w1000/2021/07/a.png 1000w,
                    /content/images/size/w2000/2021/07/a.png 2000w"/>
</a>
<div class="post-card-content">
<a class="post-card-content-link" href="/hello-world/">
<header class="post-card-header">
<h2 class="post-card-title">Hello World!</h2>
</header>
<section class="post-card-excerpt">
<p>おはよう世界.</p>
</section>
</a>
<footer class="post-card-meta">
<ul class="author-list">
<li class="author-list-item">
<a class="static-avatar" href="/author/aptmac/">
<img alt="aptmac" class="author-profile-image" src="/content/images/size/w100/2021/07/a.jpg"/>
</a>
</li>
</ul>
<div class="post-card-byline-content">
<span><a href="/author/aptmac/">aptmac</a></span>
<span class="post-card-byline-date"><time datetime="2021-06-21">Jun 21, 2021</time> <span class="bull">•</span> 1 min read</span>
</div>
</footer>
</div>
</article>
</div>
</aside>
</main>
<footer class="site-footer outer">
<div class="inner">
<section class="copyright"><a href="https://aptmac.github.io">Stuff, and things.</a> © 2021</section>
<nav class="site-footer-nav">
<ul class="nav">
<li class="nav-programming"><a href="https://aptmac.github.io/tag/programming/">Programming</a></li>
<li class="nav-fantasy-football"><a href="https://aptmac.github.io/tag/fantasy-football/">Fantasy Football</a></li>
<li class="nav-ri-ben-yu"><a href="https://aptmac.github.io/tag/japanese/">日本語</a></li>
</ul>
</nav>
<div><a href="https://ghost.org/" rel="noopener" target="_blank">Powered by Ghost</a></div>
</div>
</footer>
</div>
<script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="https://code.jquery.com/jquery-3.5.1.min.js">
</script>
<script src="/assets/built/casper.js?v=8d8ebc2168"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>
</body>
</html>
